spring.profiles.active=local
spring.application.name=gridee-backend
spring.application.version=0.0.1-SNAPSHOT

# ==================== API Documentation ====================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-index.html

# ==================== Server Configuration ====================
server.port=8443
server.ssl.key-store-type=PKCS12

# ==================== OAuth2 Scope Configuration ====================
spring.security.oauth2.client.registration.google.scope=email,profile
spring.security.oauth2.client.registration.apple.scope=email,name

# ==================== Distributed Tracing (OpenTelemetry Compatible) ====================
# Enable/Disable Tracing (set to false to disable completely)
management.tracing.enabled=true
management.tracing.sampling.probability=1.0

# Enable/Disable Zipkin Export (set to false if Zipkin server is not available)
management.zipkin.tracing.enabled=true

# Enable/Disable OTLP Export (set to false if OTLP server is not available)
management.otlp.tracing.enabled=true

# Baggage and propagation
management.tracing.baggage.enabled=true
management.tracing.baggage.correlation.enabled=true
management.tracing.baggage.correlation.fields=userId,environment,region
management.tracing.propagation.type=w3c,b3

# ==================== Metrics and Monitoring (Prometheus Standard) ====================
# Expose management endpoints
management.endpoints.web.exposure.include=health,info,metrics,prometheus,loggers,httptrace,threaddump
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true

# Prometheus metrics export
management.metrics.export.prometheus.enabled=true
management.metrics.tags.application=${spring.application.name}
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.slo.http.server.requests=50ms,100ms,200ms,500ms,1s,2s

# Enable detailed metrics
management.metrics.enable.jvm=true
management.metrics.enable.process=true
management.metrics.enable.system=true
management.metrics.enable.http=true
management.metrics.enable.logback=true

# HTTP trace configuration
management.trace.http.enabled=true
management.trace.http.include=REQUEST_HEADERS,RESPONSE_HEADERS,COOKIE_HEADERS,ERRORS,TIME_TAKEN

# ==================== Logging Configuration (Structured JSON Logging) ====================
# Log levels
logging.level.com.parking.app=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO
logging.level.org.springframework.data.mongodb=INFO
logging.level.io.micrometer.tracing=INFO
logging.level.io.micrometer.observation=INFO

# Suppress noisy tracing errors when servers are unavailable
logging.level.zipkin2.reporter=WARN
logging.level.io.micrometer.tracing.exporter=WARN

# Structured logging pattern with trace context
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} %5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}] [%X{userId:-}] --- [%t] %-40.40logger{39} : %m%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} %5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}] [%X{userId:-}] [%X{requestId:-}] --- [%t] %-40.40logger{39} : %m %ex%n

# Log file configuration
logging.file.name=logs/application.log
logging.file.max-size=10MB
logging.file.max-history=30
logging.file.total-size-cap=1GB

# ==================== JWT Configuration ====================
jwt.secret=your-super-secret-key-minimum-32-characters-long-change-this-in-production

# ==================== CORS Configuration ====================
cors.allowed.origins=http://localhost:3000,http://localhost:8443,http://localhost:4200
