spring.profiles.active=local
spring.application.name=gridee-backend
spring.application.version=0.0.1-SNAPSHOT

# ==================== API Documentation ====================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-index.html

# Enable CSRF support in Swagger UI
springdoc.swagger-ui.csrf.enabled=true
springdoc.swagger-ui.csrf.cookie-name=XSRF-TOKEN
springdoc.swagger-ui.csrf.header-name=X-XSRF-TOKEN

# ==================== Server Configuration ====================
server.port=8443
server.ssl.key-store-type=PKCS12

# ==================== OAuth2 Scope Configuration ====================
spring.security.oauth2.client.registration.google.scope=email,profile
spring.security.oauth2.client.registration.apple.scope=email,name

# Enable detailed metrics
management.metrics.enable.jvm=true
management.metrics.enable.process=true
management.metrics.enable.system=true
management.metrics.enable.http=true
management.metrics.enable.logback=true

# HTTP trace configuration
management.trace.http.enabled=true
management.trace.http.include=REQUEST_HEADERS,RESPONSE_HEADERS,COOKIE_HEADERS,ERRORS,TIME_TAKEN

# ==================== Logging Configuration (Structured JSON Logging) ====================
# Log levels
logging.level.com.parking.app=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO
logging.level.org.springframework.data.mongodb=INFO
logging.level.io.micrometer.tracing=INFO
logging.level.io.micrometer.observation=INFO

# Log file configuration
logging.file.name=logs/application.log
logging.file.max-size=10MB
logging.file.max-history=30
logging.file.total-size-cap=1GB

# ==================== JWT Configuration ====================
jwt.secret=your-super-secret-key-minimum-32-characters-long-change-this-in-production

# ==================== Distributed Locking Configuration ====================
# Toggle between Redis (high-performance) and MongoDB (fallback) locking
# Options: redis | mongodb
# Default: redis (if not specified)
#
# Use 'redis' for:
#   - Production environments
#   - High concurrent traffic (>100 bookings/sec)
#   - Multi-instance deployments
#   - Best performance (<1ms lock operations)
#
# Use 'mongodb' for:
#   - Development/staging with low traffic
#   - Single-instance deployments
#   - When Redis infrastructure is not available
#   - Performance: 5-10ms lock operations
#
app.locking.provider=mongodb

# ==================== Redis Configuration (Only used when app.locking.provider=redis) ====================
# When using MongoDB locking, Redis auto-configuration is disabled
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration

spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=60000
spring.data.redis.jedis.pool.max-active=8
spring.data.redis.jedis.pool.max-idle=8
spring.data.redis.jedis.pool.min-idle=0

# ==================== CORS Configuration ====================
cors.allowed.origins=http://localhost:3000,http://localhost:8443,http://localhost:4200

# ==================== MongoDB Audit Configuration ====================
mongodb.audit.enabled=true
mongodb.audit.collection=booking_audit
