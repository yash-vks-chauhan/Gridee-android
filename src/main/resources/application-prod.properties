# ==================== Environment-Specific Configuration ====================
# Database Configuration (Production MongoDB - Use environment variables or secrets manager)
spring.data.mongodb.uri=${MONGODB_URI:mongodb://mongodb-prod:27017/parkingdb}

# Basic Auth (Production - Use strong credentials from secrets manager)
spring.security.user.name=${ADMIN_USERNAME}
spring.security.user.password=${ADMIN_PASSWORD}

# SSL Configuration (Production)
server.ssl.key-store=${SSL_KEYSTORE_PATH:classpath:keystore.p12}
server.ssl.key-store-password=${SSL_KEYSTORE_PASSWORD}
server.ssl.key-store-type=PKCS12
server.ssl.key-alias=${SSL_KEY_ALIAS:springboot}

# ==================== Payment Gateway (Production) ====================
razorpay.key=${RAZORPAY_KEY}
razorpay.secret=${RAZORPAY_SECRET}

# ==================== OAuth2 Credentials (Production) ====================
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}

spring.security.oauth2.client.registration.apple.client-id=${APPLE_CLIENT_ID}
spring.security.oauth2.client.registration.apple.client-secret=${APPLE_CLIENT_SECRET}

# ==================== Tracing Configuration (Production) ====================

# Baggage and propagation
management.tracing.baggage.enabled=true
management.tracing.baggage.correlation.enabled=true
management.tracing.baggage.correlation.fields=userId,environment,region
management.tracing.propagation.type=w3c,b3

# Enable/Disable Zipkin (set to false if not using Zipkin)
management.zipkin.tracing.enabled=${ZIPKIN_ENABLED:false}
management.zipkin.tracing.endpoint=${ZIPKIN_ENDPOINT:https://your-zipkin-prod.example.com/api/v2/spans}
# Suppress noisy tracing errors when servers are unavailable
logging.level.zipkin2.reporter=WARN
logging.level.io.micrometer.tracing.exporter=WARN

# Enable/Disable OTLP (set to false if not using OTLP/OpenTelemetry)
management.otlp.tracing.enabled=${OTLP_ENABLED:false}
management.otlp.tracing.endpoint=${OTLP_ENDPOINT:https://otlp-prod.example.com:4318/v1/traces}

# ==================== Distributed Tracing (OpenTelemetry Compatible) ====================
# Enable/Disable Tracing (set to false to disable completely)
management.tracing.enabled=true
management.tracing.sampling.probability=1.0

# ==================== Environment Tags (Production) ====================
management.metrics.tags.environment=production
management.metrics.tags.region=${AWS_REGION:us-east-1}
app.environment=production
app.region=${AWS_REGION:us-east-1}
app.cluster=${CLUSTER_NAME:prod-cluster}
app.instance-id=${HOSTNAME:${random.uuid}}

# ==================== Production Logging Overrides ====================
# Reduce logging verbosity in production
logging.level.com.parking.app=INFO
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN

# ==================== Metrics and Monitoring (Prometheus Standard) ====================
# Expose management endpoints
management.endpoints.web.exposure.include=health,info,metrics,prometheus,loggers,httptrace,threaddump
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true

# Prometheus metrics export
management.metrics.export.prometheus.enabled=true
management.metrics.tags.application=${spring.application.name}
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.slo.http.server.requests=50ms,100ms,200ms,500ms,1s,2s

# Redis
spring.data.redis.host=localhost
spring.data.redis.port=6379
